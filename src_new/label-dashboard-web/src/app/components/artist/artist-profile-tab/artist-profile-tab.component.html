<div class="artist-profile-tab">
  <form (ngSubmit)="saveProfile()" #profileForm="ngForm" *ngIf="artist">
    
    <!-- Basic Information Section -->
    <div class="card">
      <div class="card-header">
        <h5>Basic Information</h5>
      </div>
      <div class="card-body">
        <div class="row">
          <div class="col-md-6">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Artist Name <span class="text-danger">*</span></mat-label>
              <input matInput
                     name="artistName"
                     [(ngModel)]="editingProfile.name"
                     required
                     placeholder="Enter artist name">
            </mat-form-field>
          </div>
          <div class="col-md-6">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Band Members</mat-label>
              <textarea matInput
                        name="bandMembers"
                        rows="3"
                        [(ngModel)]="editingProfile.band_members"
                        placeholder="Enter band members, one per line or separated by commas"></textarea>
            </mat-form-field>
          </div>
        </div>
        
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Biography</mat-label>
          <textarea matInput
                    name="bio"
                    rows="4"
                    [(ngModel)]="editingProfile.bio"
                    placeholder="Tell us about the artist..."></textarea>
        </mat-form-field>
      </div>
    </div>

    <!-- Social Links Section -->
    <div class="card">
      <div class="card-header">
        <h5>Social Media & Links</h5>
      </div>
      <div class="card-body">
        <div class="row">
          <div class="col-md-6">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Website</mat-label>
              <input matInput
                     type="url"
                     name="website"
                     [(ngModel)]="editingProfile.website_page_url"
                     placeholder="https://www.example.com">
            </mat-form-field>
          </div>
          <div class="col-md-6">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Facebook</mat-label>
              <input matInput
                     name="facebook"
                     [(ngModel)]="editingProfile.facebook_handle"
                     placeholder="Facebook username">
            </mat-form-field>
          </div>
        </div>
        
        <div class="row">
          <div class="col-md-6">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Instagram</mat-label>
              <input matInput
                     name="instagram"
                     [(ngModel)]="editingProfile.instagram_handle"
                     placeholder="Instagram username">
            </mat-form-field>
          </div>
          <div class="col-md-6">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Twitter</mat-label>
              <input matInput
                     name="twitter"
                     [(ngModel)]="editingProfile.twitter_handle"
                     placeholder="Twitter username">
            </mat-form-field>
          </div>
        </div>
        
        <div class="row">
          <div class="col-md-6">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>TikTok</mat-label>
              <input matInput
                     name="tiktok"
                     [(ngModel)]="editingProfile.tiktok_handle"
                     placeholder="TikTok username">
            </mat-form-field>
          </div>
          <div class="col-md-6">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>YouTube Channel</mat-label>
              <input matInput
                     name="youtube"
                     [(ngModel)]="editingProfile.youtube_channel"
                     placeholder="YouTube channel URL or name">
            </mat-form-field>
          </div>
        </div>
      </div>
    </div>

    <!-- Profile Photo Section -->
    <div class="card">
      <div class="card-header">
        <h5>Profile Photo</h5>
      </div>
      <div class="card-body">
        <div class="row">
          <div class="col-md-4">
            <div class="current-photo">
              <img [src]="getProfilePhotoUrl()" 
                   class="img-thumbnail current-photo-img" 
                   [alt]="editingProfile.name">
            </div>
          </div>
          <div class="col-md-8">
            <div class="form-group">
              <label for="profilePhoto" class="file-upload-label">Upload New Photo</label>
              <input type="file" 
                     class="form-control-file" 
                     id="profilePhoto"
                     name="profilePhoto"
                     (change)="onFileSelected($event)"
                     accept="image/jpeg,image/jpg,image/png,image/gif">
              <small class="form-text text-muted">
                Accepted formats: JPEG, PNG, GIF. Maximum size: 5MB.
              </small>
            </div>
            
            <div *ngIf="uploadProgress > 0 && uploadProgress < 100" class="progress mt-2">
              <div class="progress-bar" 
                   role="progressbar" 
                   [style.width.%]="uploadProgress">
                {{ uploadProgress }}%
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Save Button -->
    <div class="form-actions">
      <button type="submit" 
              class="btn btn-primary" 
              [disabled]="saving || !profileForm.form.valid">
        <i class="fa fa-spinner fa-spin" *ngIf="saving"></i>
        <i class="fa fa-save" *ngIf="!saving"></i>
        {{ saving ? 'Saving...' : 'Save Profile' }}
      </button>
    </div>
    
  </form>
</div>